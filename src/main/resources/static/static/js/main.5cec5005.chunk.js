(this["webpackJsonpppmtool-react-client"]=this["webpackJsonpppmtool-react-client"]||[]).push([[2],{1:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"k",(function(){return a})),n.d(t,"l",(function(){return c})),n.d(t,"j",(function(){return o})),n.d(t,"n",(function(){return u})),n.d(t,"m",(function(){return s})),n.d(t,"g",(function(){return i})),n.d(t,"f",(function(){return l})),n.d(t,"c",(function(){return p})),n.d(t,"p",(function(){return f})),n.d(t,"q",(function(){return d})),n.d(t,"o",(function(){return m})),n.d(t,"s",(function(){return b})),n.d(t,"r",(function(){return v})),n.d(t,"i",(function(){return E})),n.d(t,"h",(function(){return j})),n.d(t,"e",(function(){return h})),n.d(t,"d",(function(){return O})),n.d(t,"u",(function(){return g})),n.d(t,"t",(function(){return T})),n.d(t,"a",(function(){return k})),n.d(t,"v",(function(){return _}));var r="CREATE_UPDATE_PROJECT_FAIL",a="FETCH_PROJECTS_START",c="FETCH_PROJECTS_SUCCESS",o="FETCH_PROJECTS_FAIL",u="FETCH_PROJECT_BY_PROJECT_ID_SUCCESS",s="FETCH_PROJECT_BY_PROJECT_ID_FAIL",i="DELETE_PROJECT_SUCCESS",l="DELETE_PROJECT_FAIL",p="CREATE_UPDATE_PROJECT_TASK_FAIL",f="FETCH_PROJECT_TASKS_START",d="FETCH_PROJECT_TASKS_SUCCESS",m="FETCH_PROJECT_TASKS_FAIL",b="FETCH_PROJECT_TASK_BY_ID_SUCCESS",v="FETCH_PROJECT_TASK_BY_ID_FAIL",E="DELETE_PROJECT_TASK_SUCCESS",j="DELETE_PROJECT_TASK_FAIL",h="CREATE_USER_SUCCESS",O="CREATE_USER_FAIL",g="LOGIN_SUCCESS",T="LOGIN_FAIL",k="CLEAR_LOGIN_ERROR",_="LOGOUT"},20:function(e,t,n){"use strict";n.d(t,"e",(function(){return l})),n.d(t,"k",(function(){return p})),n.d(t,"h",(function(){return f})),n.d(t,"f",(function(){return d})),n.d(t,"d",(function(){return v})),n.d(t,"n",(function(){return O})),n.d(t,"j",(function(){return E})),n.d(t,"i",(function(){return j})),n.d(t,"g",(function(){return h})),n.d(t,"c",(function(){return _})),n.d(t,"m",(function(){return y})),n.d(t,"b",(function(){return S})),n.d(t,"l",(function(){return C})),n.d(t,"a",(function(){return A}));var r=n(4),a=n.n(r),c=n(7),o=n(5),u=n.n(o),s=n(1),i=function(e){return{type:s.g,projectIdentifier:e}},l=function(e,t){return function(){var n=Object(c.a)(a.a.mark((function n(r){return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,u.a.post("/api/project",e);case 3:t.push("/dashboard"),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),r((a=n.t0.response.data,{type:s.b,errors:a}));case 9:case"end":return n.stop()}var a}),n,null,[[0,6]])})));return function(e){return n.apply(this,arguments)}}()},p=function(){return function(){var e=Object(c.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:s.k}),e.prev=1,e.next=4,u.a.get("/api/project/all");case 4:n=e.sent,t((a=n.data,{type:s.l,projects:a})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t((r=e.t0,{type:s.j,errors:r}));case 11:case"end":return e.stop()}var r,a}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},f=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n){var r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,u.a.get("/api/project/".concat(e));case 3:r=t.sent,n((c=r.data,{type:s.n,project:c})),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),n((a=t.t0.response.data,{type:s.m,errors:a}));case 10:case"end":return t.stop()}var a,c}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},d=function(e,t){return function(){var t=Object(c.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,u.a.delete("/api/project/".concat(e));case 3:n(i(e)),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),n((r=t.t0,{type:s.f,error:r}));case 9:case"end":return t.stop()}var r}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}()},m=function(e){return{type:s.c,error:e}},b=function(e){return{type:s.i,sequence:e}},v=function(e,t,n){return function(){var r=Object(c.a)(a.a.mark((function r(c){return a.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,u.a.post("/api/project-task/".concat(e),t);case 3:n.push("/project-board/".concat(e)),r.next=9;break;case 6:r.prev=6,r.t0=r.catch(0),c(m(r.t0.response.data));case 9:case"end":return r.stop()}}),r,null,[[0,6]])})));return function(e){return r.apply(this,arguments)}}()},E=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n){var r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n({type:s.p}),t.prev=1,t.next=4,u.a.get("/api/project-task/".concat(e));case 4:r=t.sent,n((c=r.data,{type:s.q,tasks:c})),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),n((a=t.t0.response.data,{type:s.o,error:a}));case 11:case"end":return t.stop()}var a,c}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()},j=function(e,t){return function(){var n=Object(c.a)(a.a.mark((function n(r){var c;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,u.a.get("/api/project-task/".concat(e,"/").concat(t));case 3:c=n.sent,r((o=c.data,{type:s.s,task:o})),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),r((a=n.t0.response.data,{type:s.r,error:a}));case 10:case"end":return n.stop()}var a,o}),n,null,[[0,7]])})));return function(e){return n.apply(this,arguments)}}()},h=function(e,t){return function(){var n=Object(c.a)(a.a.mark((function n(r){return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,u.a.delete("/api/project-task/".concat(e,"/").concat(t));case 3:r(b(t)),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),r((a=n.t0,{type:s.h,error:a}));case 9:case"end":return n.stop()}var a}),n,null,[[0,6]])})));return function(e){return n.apply(this,arguments)}}()},O=function(e,t,n,r){return function(){var o=Object(c.a)(a.a.mark((function c(o){return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,u.a.patch("/api/project-task/".concat(e,"/").concat(t),n);case 3:r.push("/project-board/".concat(e)),a.next=9;break;case 6:a.prev=6,a.t0=a.catch(0),o(m(a.t0.response.data));case 9:case"end":return a.stop()}}),c,null,[[0,6]])})));return function(e){return o.apply(this,arguments)}}()},g=function(e){e?u.a.defaults.headers.common.Authorization=e:delete u.a.defaults.headers.common.Authorization},T=n(27),k=n.n(T),_=function(e,t){return function(){var n=Object(c.a)(a.a.mark((function n(r){var c;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,u.a.post("/api/users/register",e);case 3:c=n.sent,t.push("/users/login"),r((o=c.data,{type:s.e,user:o})),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),r((a=n.t0.response.data,{type:s.d,error:a}));case 11:case"end":return n.stop()}var a,o}),n,null,[[0,8]])})));return function(e){return n.apply(this,arguments)}}()},y=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n){var r,c,o;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,u.a.post("/api/users/login",e);case 3:r=t.sent,c=r.data.token,localStorage.setItem("JWT",c),g(c),o=k()(c),n((i=o,{type:s.u,user:i})),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),n((a=t.t0.response.data,{type:s.t,error:a}));case 14:case"end":return t.stop()}var a,i}),t,null,[[0,11]])})));return function(e){return t.apply(this,arguments)}}()},C=function(e){return console.log("action => logout called"),localStorage.removeItem("JWT"),{type:s.v}},S=function(){return{type:s.a}},A=function(){return function(e){var t,n=localStorage.getItem("JWT");if(n){var r=k()(n),a=Date.now()/1e3;r.exp<=a?e(C()):(g(n),e((t=r.exp-Date.now()/1e3,console.log("called check TIMEOUT",t),function(e){setTimeout((function(){console.log("Check TIMEOUT"),e(C())}),1e3*t)})))}else e(C())}}},47:function(e,t,n){e.exports=n(79)},52:function(e,t,n){},56:function(e,t,n){},79:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(21),o=n.n(c),u=n(9),s=(n(52),n(15)),i=n(13),l=n(29),p=n(30),f=n(32),d=n(31),m=function(e){return function(t){Object(f.a)(r,t);var n=Object(d.a)(r);function r(){var e;Object(l.a)(this,r);for(var t=arguments.length,a=new Array(t),c=0;c<t;c++)a[c]=arguments[c];return(e=n.call.apply(n,[this].concat(a))).state={component:null},e}return Object(p.a)(r,[{key:"componentDidMount",value:function(){var t=this;e().then((function(e){t.setState({component:e.default})}))}},{key:"render",value:function(){var e=this.state.component;return e?a.a.createElement(e,this.props):null}}]),r}(r.Component)},b=(n(56),n(57),function(e){var t=a.a.createElement(a.a.Fragment,null,a.a.createElement("li",{className:"nav-item"},a.a.createElement(u.b,{className:"nav-link ",to:"/users/register"},"Sign Up")),a.a.createElement("li",{className:"nav-item"},a.a.createElement(u.b,{className:"nav-link",to:"/users/login"},"Login")));return e.isAuthenticated&&(t=a.a.createElement(a.a.Fragment,null,a.a.createElement("li",{className:"nav-item"},a.a.createElement(u.b,{className:"nav-link",to:"/dashboard"},a.a.createElement("i",{className:"fas fa-user-circle mr-1"}),e.username)),a.a.createElement("li",{className:"nav-item"},a.a.createElement(u.b,{className:"nav-link",to:"/users/logout"},"Logout")))),a.a.createElement("nav",{className:"navbar navbar-expand-sm navbar-dark bg-dark mb-4"},a.a.createElement("div",{className:"container"},a.a.createElement(u.b,{className:"navbar-brand text-warning",to:"/"},"Personal Project Management"),a.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#mobile-nav"},a.a.createElement("span",{className:"navbar-toggler-icon"})),a.a.createElement("div",{className:"collapse navbar-collapse",id:"mobile-nav"},a.a.createElement("ul",{className:"navbar-nav ml-auto"},t))))});var v=Object(i.b)((function(e){return{isAuthenticated:e.user.isAuthenticated,user:e.user.user}}))((function(e){var t=e.isAuthenticated,n=e.user;return a.a.createElement(a.a.Fragment,null,a.a.createElement(b,{isAuthenticated:t,username:n.fullname}),e.children)})),E=function(){return a.a.createElement("div",{className:"landing"},a.a.createElement("div",{className:"light-overlay landing-inner text-dark"},a.a.createElement("div",{className:"container"},a.a.createElement("div",{className:"row"},a.a.createElement("div",{className:"col-md-12 text-center"},a.a.createElement("h1",{className:"display-3 mb-4"},"Personal Project Management Tool"),a.a.createElement("p",{className:"lead"},"Create your account to join active projects or start your own"),a.a.createElement("hr",null),a.a.createElement(u.b,{to:"/users/register",className:"btn btn-lg btn-primary mr-2"},"Sign Up"),a.a.createElement(u.b,{to:"/users/login",className:"btn btn-lg btn-secondary mr-2"},"Login"))))))},j=n(20),h=Object(i.b)(null,(function(e){return{onLogout:function(){return e(j.l())}}}))((function(e){var t=e.onLogout;return Object(r.useEffect)((function(){t()}),[t]),a.a.createElement(s.a,{to:"/"})})),O=m((function(){return n.e(5).then(n.bind(null,146))})),g=m((function(){return Promise.all([n.e(1),n.e(0),n.e(7)]).then(n.bind(null,142))})),T=m((function(){return Promise.all([n.e(1),n.e(0),n.e(8)]).then(n.bind(null,147))})),k=m((function(){return Promise.all([n.e(1),n.e(6)]).then(n.bind(null,145))})),_=m((function(){return Promise.all([n.e(1),n.e(0),n.e(9)]).then(n.bind(null,143))})),y=m((function(){return Promise.all([n.e(0),n.e(10)]).then(n.bind(null,144))})),C=Object(s.g)(Object(i.b)((function(e){return{isAuthenticated:e.user.isAuthenticated}}),(function(e){return{onTryAutoSignup:function(){return e(j.a())}}}))((function(e){var t=e.onTryAutoSignup;Object(r.useEffect)((function(){t()}),[t]);var n=a.a.createElement(s.d,null,a.a.createElement(s.b,{path:"/users/login",component:_}),a.a.createElement(s.b,{path:"/users/register",component:y}),a.a.createElement(s.b,{path:"/",component:E,exact:!0}),a.a.createElement(s.a,{to:"/"}));return e.isAuthenticated&&(n=a.a.createElement(s.d,null,a.a.createElement(s.b,{path:"/dashboard",component:O}),a.a.createElement(s.b,{path:"/addProject",component:g}),a.a.createElement(s.b,{path:"/updateProject/:id",component:g}),a.a.createElement(s.b,{path:"/project-board/:projectId",component:k}),a.a.createElement(s.b,{path:"/addProjectTask/:projectId",component:T}),a.a.createElement(s.b,{path:"/updateProjectTask/:projectId/:taskId",component:T}),a.a.createElement(s.b,{path:"/users/logout",component:h}),a.a.createElement(s.b,{path:"/",component:O,exact:!0}),a.a.createElement(s.a,{to:"/"}))),a.a.createElement("div",{className:"App"},a.a.createElement(v,null,n))})));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var S=n(14),A=n(45),x=n(17),w=n(2),P=n(1),I={projects:[],project:{},loading:!1,errors:{}},R=function(e,t){return Object(w.a)(Object(w.a)({},e),{},{errors:t.errors})},N=function(e,t){return Object(w.a)(Object(w.a)({},e),{},{loading:!0,errors:{}})},L=function(e,t){return Object(w.a)(Object(w.a)({},e),{},{loading:!1,projects:Object(x.a)(t.projects),errors:{}})},F=function(e,t){return Object(w.a)(Object(w.a)({},e),{},{loading:!1,errors:t.errors})},J=function(e,t){return Object(w.a)(Object(w.a)({},e),{},{project:t.project})},U=function(e,t){return Object(w.a)(Object(w.a)({},e),{},{errors:t.errors})},D=function(e,t){var n=e.projects.filter((function(e){return e.projectIdentifier!==t.projectIdentifier}));return Object(w.a)(Object(w.a)({},e),{},{projects:Object(x.a)(n)})},H=function(e,t){return Object(w.a)(Object(w.a)({},e),{},{errors:t.error})},K=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case P.b:return R(e,t);case P.k:return N(e);case P.l:return L(e,t);case P.j:return F(e,t);case P.n:return J(e,t);case P.m:return U(e,t);case P.g:return D(e,t);case P.f:return H(e,t);default:return e}},q={tasks:[],task:{},error:{},loading:!1},B=function(e,t){return Object(w.a)(Object(w.a)({},e),{},{task:{},error:t.error})},M=function(e,t){return Object(w.a)(Object(w.a)({},e),{},{loading:!0,task:{},error:{}})},W=function(e,t){return Object(w.a)(Object(w.a)({},e),{},{tasks:Object(x.a)(t.tasks),error:{},loading:!1})},G=function(e,t){return Object(w.a)(Object(w.a)({},e),{},{loading:!1,error:t.error})},Y=function(e,t){return Object(w.a)(Object(w.a)({},e),{},{task:t.task,error:{}})},z=function(e,t){return Object(w.a)(Object(w.a)({},e),{},{error:t.error})},$=function(e,t){var n=e.tasks.filter((function(e){return e.projectSequence!==t.sequence}));return Object(w.a)(Object(w.a)({},e),{},{tasks:Object(x.a)(n)})},Q=function(e,t){return Object(w.a)(Object(w.a)({},e),{},{error:t.error})},V=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case P.c:return B(e,t);case P.p:return M(e);case P.q:return W(e,t);case P.o:return G(e,t);case P.s:return Y(e,t);case P.r:return z(e,t);case P.i:return $(e,t);case P.h:return Q(e,t);default:return e}},X={user:{},error:{},isAuthenticated:!1},Z=function(e,t){return Object(w.a)(Object(w.a)({},e),{},{user:t.user,error:{},isAuthenticated:!1})},ee=function(e,t){return Object(w.a)(Object(w.a)({},e),{},{error:t.error})},te=function(e,t){return console.log("login success",t.user),Object(w.a)(Object(w.a)({},e),{},{user:t.user,error:{},isAuthenticated:!0})},ne=function(e,t){return Object(w.a)(Object(w.a)({},e),{},{user:{},error:t.error,isAuthenticated:!1})},re=function(e,t){return Object(w.a)(Object(w.a)({},e),{},{error:{}})},ae=function(e,t){return console.log("logout called in reducer."),Object(w.a)(Object(w.a)({},e),{},{user:{},error:{},isAuthenticated:!1})},ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case P.e:return Z(e,t);case P.d:return ee(e,t);case P.u:return te(e,t);case P.t:return ne(e,t);case P.a:return re(e);case P.v:return ae(e);default:return e}},oe=Object(S.c)({project:K,backlog:V,user:ce}),ue=[A.a],se=S.d;console.log(se,"production");var ie=Object(S.e)(oe,se(S.a.apply(void 0,ue))),le=a.a.createElement(i.a,{store:ie},a.a.createElement(u.a,null,a.a.createElement(C,null)));o.a.render(le,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[47,3,4]]]);
//# sourceMappingURL=main.5cec5005.chunk.js.map